<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mech Idle RPG</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="start-screen">
        <h1>Mech Command Interface</h1>
        <p>System Offline. Initialize startup sequence.</p>
        <br>
        <button id="start-game-button">Initialize System</button>
        <p id="start-message"></p>
    </div>

    <div id="game-screen" style="display: none;">
        <!-- Top Bar: Progress -->
        <div class="progress-panel" style="grid-column: 1 / -1; display: flex; justify-content: space-between; align-items: center;">
            <span>SECTOR: <strong id="current-floor" style="color: #fff;">1</strong></span>
            <span>THREAT LEVEL: <strong id="enemies-defeated" style="color: #fff;">0</strong></span>
        </div>

		<!-- COMBAT HUD ROW (Side by Side) -->

        <!-- Player Bar -->
        <div class="mech-panel" id="player-panel" style="grid-column: 1 / 2; border-top: 3px solid var(--accent-blue);">
            <h2><span id="player-name">Player</span></h2>
            <div class="bar-group">
                <small>Hull Integrity</small>
                <div class="bar-container"><div id="p-hp-bar" class="bar-fill hp-fill" style="width: 100%;"></div></div>
                <small>Energy Shield</small>
                <div class="bar-container"><div id="p-shield-bar" class="bar-fill shield-fill" style="width: 100%;"></div></div>
            </div>
		</div>

        <!-- Enemy Bar -->
        <div class="mech-panel" id="enemy-panel" style="grid-column: 2 / 3; border-top: 3px solid var(--accent-red);">
            <h2><span id="enemy-name">Target</span> <span id="enemy-is-boss" style="color:red"></span></h2>
            <div class="bar-group">
                <small>Hull Integrity</small>
                <div class="bar-container"><div id="e-hp-bar" class="bar-fill hp-fill" style="width: 100%;"></div></div>
                <small>Energy Shield</small>
                <div class="bar-container"><div id="e-shield-bar" class="bar-fill shield-fill" style="width: 100%;"></div></div>
            </div>
        </div>
		
		<!-- DETAILS ROW -->
		<!-- Player Stats & Loadout -->
		<div class="mech-panel" style="grid-column: 1 / 2;">
            <h3>Systems Status</h3>
			<label>EXP (Level <span id="player-level">0</span>)</label>
			<div class="progress-container exp-container">
				<div id="exp-bar" class="progress-bar exp-bar" style="width: 0%; background-color: #9b59b6;"></div>
			</div>
			<div class="stat-text"><span id="current-exp">0</span> / <span id="next-level-exp">10</span></div>
            <div id="player-stats" class="stats-grid"></div>

            <h3 style="margin-top: 20px;">Loadout <small style="font-size:0.6em; color:#666;">(CLICK TO CONFIGURE)</small></h3>
            <div id="player-equipment-list" class="equipment-list"></div>
        </div>
		
		<!-- Enemy Stats -->
		<div class="mech-panel" style="grid-column: 2 / 3;">
			<h3>Target Analysis</h3>
            <div id="enemy-stats" class="stats-grid"></div>
		</div>


        <!-- Logs -->
        <div class="log-panel" style="grid-column: 1 / -1;">
            <h3>Combat Log</h3>
            <ul id="game-log"></ul>
        </div>
    </div>

    <!-- The Equipment Popup Modal -->
    <div id="equipment-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Select Equipment</h2>
                <span class="close-modal" onclick="document.getElementById('equipment-modal').style.display='none'">&times;</span>
            </div>
            <div id="inventory-list">
                <!-- Inventory items injected here via JS -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
